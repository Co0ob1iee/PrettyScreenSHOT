<ui:FluentWindow x:Class="PrettyScreenSHOT.Views.Windows.MainWindow"
                xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                xmlns:helpers="clr-namespace:PrettyScreenSHOT.Helpers"
                Title="PrettyScreenSHOT Dashboard"
                Height="750"
                Width="1200"
                MinHeight="600"
                MinWidth="900"
                WindowStartupLocation="CenterScreen"
                ExtendsContentIntoTitleBar="True"
                WindowBackdropType="Mica"
                WindowCornerPreference="Round">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Title Bar -->
            <RowDefinition Height="*"/>    <!-- Main Content -->
            <RowDefinition Height="Auto"/> <!-- Status Bar -->
        </Grid.RowDefinitions>

        <!-- Title Bar -->
        <ui:TitleBar Grid.Row="0"
                     Title="PrettyScreenSHOT Dashboard"
                     Icon="pack://application:,,,/app.ico">
            <ui:TitleBar.Header>
                <StackPanel Orientation="Horizontal" Margin="16,0,0,0">
                    <ui:Button x:Name="ThemeToggleButton"
                               Icon="WeatherMoon24"
                               ToolTip="Toggle Theme"
                               Appearance="Transparent"
                               Click="OnThemeToggleClick"
                               Margin="0,0,8,0"/>
                </StackPanel>
            </ui:TitleBar.Header>
        </ui:TitleBar>

        <!-- Main Navigation -->
        <ui:NavigationView Grid.Row="1"
                           x:Name="NavigationView"
                           IsBackButtonVisible="Collapsed"
                           IsPaneToggleVisible="True"
                           OpenPaneLength="220"
                           SelectionChanged="OnNavigationSelectionChanged">

            <ui:NavigationView.MenuItems>
                <ui:NavigationViewItem Content="Dashboard"
                                       Icon="Home24"
                                       TargetPageTag="dashboard"/>
                <ui:NavigationViewItem Content="Historia"
                                       Icon="History24"
                                       TargetPageTag="history"/>
                <ui:NavigationViewItem Content="Ustawienia"
                                       Icon="Settings24"
                                       TargetPageTag="settings"/>
            </ui:NavigationView.MenuItems>

            <ui:NavigationView.FooterMenuItems>
                <ui:NavigationViewItem Content="O aplikacji"
                                       Icon="Info24"
                                       TargetPageTag="about"/>
            </ui:NavigationView.FooterMenuItems>

            <!-- Content Frame -->
            <Grid x:Name="ContentGrid" Margin="20">
                <ScrollViewer VerticalScrollBarVisibility="Auto"
                              Visibility="{Binding IsDashboardVisible, RelativeSource={RelativeSource AncestorType=ui:FluentWindow}}">
                    <!-- Dashboard Content -->
                    <StackPanel x:Name="DashboardContent" helpers:StackPanelHelper.Spacing="20">

                        <!-- Welcome Section -->
                        <ui:Card Padding="24">
                            <StackPanel helpers:StackPanelHelper.Spacing="12">
                                <TextBlock Text="Witaj w PrettyScreenSHOT!"
                                           FontSize="24"
                                           FontWeight="SemiBold"/>
                                <TextBlock Text="Szybki dostęp do funkcji przechwytywania ekranu"
                                           Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                           FontSize="14"/>
                            </StackPanel>
                        </ui:Card>

                        <!-- Quick Actions -->
                        <StackPanel helpers:StackPanelHelper.Spacing="12">
                            <TextBlock Text="Szybkie akcje"
                                       FontSize="18"
                                       FontWeight="SemiBold"
                                       Margin="0,0,0,8"/>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Screenshot Action -->
                                <ui:Card Grid.Column="0" Grid.Row="0"
                                         Margin="0,0,8,8"
                                         Padding="20"
                                         Cursor="Hand"
                                         MouseDown="OnNewScreenshotClick">
                                    <StackPanel helpers:StackPanelHelper.Spacing="12" HorizontalAlignment="Center">
                                        <ui:SymbolIcon Symbol="Camera24" FontSize="32"/>
                                        <TextBlock Text="Nowy zrzut"
                                                   FontWeight="Medium"
                                                   HorizontalAlignment="Center"/>
                                        <TextBlock Text="Naciśnij PrtScn lub kliknij tutaj"
                                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                                   FontSize="12"
                                                   HorizontalAlignment="Center"
                                                   TextWrapping="Wrap"
                                                   TextAlignment="Center"/>
                                    </StackPanel>
                                </ui:Card>

                                <!-- Video Capture -->
                                <ui:Card Grid.Column="1" Grid.Row="0"
                                         Margin="4,0,4,8"
                                         Padding="20"
                                         Cursor="Hand"
                                         MouseDown="OnVideoCaptureClick">
                                    <StackPanel helpers:StackPanelHelper.Spacing="12" HorizontalAlignment="Center">
                                        <ui:SymbolIcon Symbol="VideoRecording24" FontSize="32"/>
                                        <TextBlock Text="Nagrywanie"
                                                   FontWeight="Medium"
                                                   HorizontalAlignment="Center"/>
                                        <TextBlock Text="Nagraj wideo z ekranu"
                                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                                   FontSize="12"
                                                   HorizontalAlignment="Center"
                                                   TextWrapping="Wrap"
                                                   TextAlignment="Center"/>
                                    </StackPanel>
                                </ui:Card>

                                <!-- Scroll Capture -->
                                <ui:Card Grid.Column="2" Grid.Row="0"
                                         Margin="8,0,0,8"
                                         Padding="20"
                                         Cursor="Hand"
                                         MouseDown="OnScrollCaptureClick">
                                    <StackPanel helpers:StackPanelHelper.Spacing="12" HorizontalAlignment="Center">
                                        <ui:SymbolIcon Symbol="ArrowDown24" FontSize="32"/>
                                        <TextBlock Text="Scroll Capture"
                                                   FontWeight="Medium"
                                                   HorizontalAlignment="Center"/>
                                        <TextBlock Text="Przechwyć długą stronę"
                                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                                   FontSize="12"
                                                   HorizontalAlignment="Center"
                                                   TextWrapping="Wrap"
                                                   TextAlignment="Center"/>
                                    </StackPanel>
                                </ui:Card>

                                <!-- History -->
                                <ui:Card Grid.Column="0" Grid.Row="1"
                                         Margin="0,8,8,0"
                                         Padding="20"
                                         Cursor="Hand"
                                         MouseDown="OnHistoryClick">
                                    <StackPanel helpers:StackPanelHelper.Spacing="12" HorizontalAlignment="Center">
                                        <ui:SymbolIcon Symbol="History24" FontSize="32"/>
                                        <TextBlock Text="Historia"
                                                   FontWeight="Medium"
                                                   HorizontalAlignment="Center"/>
                                        <TextBlock Text="Przeglądaj zapisane zrzuty"
                                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                                   FontSize="12"
                                                   HorizontalAlignment="Center"
                                                   TextWrapping="Wrap"
                                                   TextAlignment="Center"/>
                                    </StackPanel>
                                </ui:Card>

                                <!-- Settings -->
                                <ui:Card Grid.Column="1" Grid.Row="1"
                                         Margin="4,8,4,0"
                                         Padding="20"
                                         Cursor="Hand"
                                         MouseDown="OnSettingsClick">
                                    <StackPanel helpers:StackPanelHelper.Spacing="12" HorizontalAlignment="Center">
                                        <ui:SymbolIcon Symbol="Settings24" FontSize="32"/>
                                        <TextBlock Text="Ustawienia"
                                                   FontWeight="Medium"
                                                   HorizontalAlignment="Center"/>
                                        <TextBlock Text="Konfiguruj aplikację"
                                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                                   FontSize="12"
                                                   HorizontalAlignment="Center"
                                                   TextWrapping="Wrap"
                                                   TextAlignment="Center"/>
                                    </StackPanel>
                                </ui:Card>

                                <!-- Updates -->
                                <ui:Card Grid.Column="2" Grid.Row="1"
                                         Margin="8,8,0,0"
                                         Padding="20"
                                         Cursor="Hand"
                                         MouseDown="OnCheckUpdatesClick">
                                    <StackPanel helpers:StackPanelHelper.Spacing="12" HorizontalAlignment="Center">
                                        <ui:SymbolIcon Symbol="ArrowDownload24" FontSize="32"/>
                                        <TextBlock Text="Aktualizacje"
                                                   FontWeight="Medium"
                                                   HorizontalAlignment="Center"/>
                                        <TextBlock Text="Sprawdź dostępność"
                                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                                   FontSize="12"
                                                   HorizontalAlignment="Center"
                                                   TextWrapping="Wrap"
                                                   TextAlignment="Center"/>
                                    </StackPanel>
                                </ui:Card>
                            </Grid>
                        </StackPanel>

                        <!-- Recent Activity -->
                        <StackPanel helpers:StackPanelHelper.Spacing="12">
                            <TextBlock Text="Ostatnia aktywność"
                                       FontSize="18"
                                       FontWeight="SemiBold"
                                       Margin="0,8,0,8"/>

                            <ui:Card Padding="20">
                                <StackPanel x:Name="RecentActivityPanel" helpers:StackPanelHelper.Spacing="12">
                                    <TextBlock Text="Brak ostatniej aktywności"
                                               Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                               FontSize="14"
                                               HorizontalAlignment="Center"
                                               Margin="0,20"/>
                                </StackPanel>
                            </ui:Card>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>

                <!-- Placeholder for other sections -->
                <ContentControl x:Name="ContentPlaceholder" Visibility="Collapsed"/>
            </Grid>
        </ui:NavigationView>

        <!-- Status Bar -->
        <Border Grid.Row="2"
                Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="0,1,0,0"
                Padding="16,8">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Left Status -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" helpers:StackPanelHelper.Spacing="16">
                    <StackPanel Orientation="Horizontal" helpers:StackPanelHelper.Spacing="6">
                        <ui:SymbolIcon Symbol="Checkmark24" FontSize="14" Foreground="{DynamicResource SystemFillColorSuccessBrush}"/>
                        <TextBlock x:Name="StatusTextBlock"
                                   Text="Gotowe"
                                   FontSize="12"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Cloud Status -->
                    <StackPanel x:Name="CloudStatusPanel"
                                Orientation="Horizontal"
                                helpers:StackPanelHelper.Spacing="6"
                                Visibility="Collapsed">
                        <ui:SymbolIcon Symbol="Cloud24" FontSize="14"/>
                        <TextBlock x:Name="CloudStatusText"
                                   Text="Połączono"
                                   FontSize="12"
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>

                <!-- Right Status -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" helpers:StackPanelHelper.Spacing="12">
                    <!-- Update Indicator -->
                    <ui:Button x:Name="UpdateButton"
                               Content="Dostępna aktualizacja"
                               Icon="ArrowDownload24"
                               Appearance="Primary"
                               Padding="8,4"
                               FontSize="12"
                               Visibility="Collapsed"
                               Click="OnUpdateButtonClick"/>

                    <TextBlock x:Name="VersionTextBlock"
                               Text="v1.0.0"
                               FontSize="12"
                               Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</ui:FluentWindow>
