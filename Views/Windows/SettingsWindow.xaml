<ui:FluentWindow x:Class="PrettyScreenSHOT.Views.Windows.SettingsWindow"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                 xmlns:helpers="clr-namespace:PrettyScreenSHOT.Helpers"
                 Title="Ustawienia"
                 Height="650"
                 Width="720"
                 WindowStartupLocation="CenterScreen"
                 ExtendsContentIntoTitleBar="True"
                 WindowBackdropType="Mica"
                 WindowCornerPreference="Round">

    <Grid Margin="0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- WPF UI Title Bar -->
        <ui:TitleBar Grid.Row="0"
                     x:Name="TitleText"
                     Title="Ustawienia"
                     Icon="pack://application:,,,/app.ico"/>

        <!-- Main Content -->
        <ScrollViewer Grid.Row="1" Margin="20" VerticalScrollBarVisibility="Auto">
            <StackPanel helpers:StackPanelHelper.Spacing="16">

                <!-- Language -->
                <ui:Card>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" x:Name="LanguageLabel" Text="Language:"
                                   VerticalAlignment="Center"/>
                        <ComboBox Grid.Column="1" x:Name="LanguageComboBox"/>
                    </Grid>
                </ui:Card>

                <!-- Save Path -->
                <ui:Card>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" x:Name="SavePathLabel" Text="Save Path:"
                                   VerticalAlignment="Center"/>
                        <ui:TextBox Grid.Column="1" x:Name="SavePathTextBox"
                                    Margin="0,0,10,0"
                                    Icon="Folder24"
                                    PlaceholderText="Select save location..."/>
                        <ui:Button Grid.Column="2" x:Name="BrowseButton"
                                   Content="Browse..."
                                   Click="BrowseButton_Click"
                                   Icon="FolderOpen24"
                                   Width="120"/>
                    </Grid>
                </ui:Card>

                <!-- Hotkey -->
                <ui:Card>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" x:Name="HotkeyLabel" Text="Hotkey:"
                                   VerticalAlignment="Center"/>
                        <ComboBox Grid.Column="1" x:Name="HotkeyComboBox"/>
                    </Grid>
                </ui:Card>

                <!-- Image Format -->
                <ui:Card>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" x:Name="ImageFormatLabel" Text="Image Format:"
                                   VerticalAlignment="Center"/>
                        <ComboBox Grid.Column="1" x:Name="ImageFormatComboBox"/>
                    </Grid>
                </ui:Card>

                <!-- Image Quality -->
                <ui:Card>
                    <StackPanel helpers:StackPanelHelper.Spacing="8">
                        <TextBlock x:Name="ImageQualityLabel" Text="Image Quality:"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>
                            <Slider Grid.Column="0"
                                    x:Name="QualitySlider"
                                    Minimum="10"
                                    Maximum="100"
                                    Value="90"
                                    TickFrequency="10"
                                    IsSnapToTickEnabled="True"
                                    VerticalAlignment="Center"/>
                            <TextBlock Grid.Column="1"
                                       x:Name="QualityLabel"
                                       Text="{Binding Value, ElementName=QualitySlider, StringFormat={}{0:F0}%}"
                                       HorizontalAlignment="Right"
                                       VerticalAlignment="Center"/>
                        </Grid>
                    </StackPanel>
                </ui:Card>

                <!-- Options -->
                <ui:Card>
                    <StackPanel helpers:StackPanelHelper.Spacing="12">
                        <TextBlock Text="Options" FontSize="16" FontWeight="SemiBold"/>
                        <CheckBox x:Name="AutoSaveCheckBox" Content="Auto Save"/>
                        <CheckBox x:Name="CopyToClipboardCheckBox" Content="Copy to Clipboard"/>
                        <CheckBox x:Name="ShowNotificationsCheckBox" Content="Show Notifications"/>
                        <CheckBox x:Name="AutoUploadCheckBox" Content="Auto Upload"/>
                    </StackPanel>
                </ui:Card>

                <!-- Theme -->
                <ui:Card>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" x:Name="ThemeLabel" Text="Theme:"
                                   VerticalAlignment="Center"/>
                        <ComboBox Grid.Column="1" x:Name="ThemeComboBox"/>
                    </Grid>
                </ui:Card>

                <!-- Action Buttons -->
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            helpers:StackPanelHelper.Spacing="8"
                            Margin="0,16,0,0">
                    <ui:Button x:Name="ResetButton"
                               Content="Reset to Defaults"
                               Click="ResetButton_Click"/>
                    <ui:Button x:Name="CancelButton"
                               Content="Cancel"
                               Click="CancelButton_Click"/>
                    <ui:Button x:Name="SaveButton"
                               Content="Save"
                               Click="SaveButton_Click"
                               Appearance="Primary"
                               Icon="Save24"/>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</ui:FluentWindow>
