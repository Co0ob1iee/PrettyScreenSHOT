<Window x:Class="PrettyScreenSHOT.VideoCaptureWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Video Capture" Height="400" Width="520" WindowStartupLocation="CenterScreen"
        Background="Transparent" Foreground="{StaticResource NeumorphicTextBrush}"
        ShowInTaskbar="False" WindowStyle="None" AllowsTransparency="True" ResizeMode="NoResize">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PrettyScreenSHOT;component/NeumorphicStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <!-- Neumorphic window chrome -->
    <Border Style="{StaticResource NeumorphicPanel}" CornerRadius="18" Margin="15" Padding="0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="48"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Custom Title Bar -->
            <Border Grid.Row="0" Background="Transparent" Padding="15,10" CornerRadius="18,18,0,0"
                    MouseLeftButtonDown="OnTitleBarMouseDown">
                <DockPanel>
                    <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" VerticalAlignment="Center">
                        <TextBlock Text="Video Capture" FontSize="20"
                                   Style="{StaticResource NeumorphicHeading}"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <Button Click="OnCloseClick" Style="{StaticResource NeumorphicCircularButton}"
                            Width="32" Height="32" DockPanel.Dock="Right"
                            HorizontalAlignment="Right" ToolTip="Zamknij">
                        <TextBlock Text="âœ•" FontSize="16"/>
                    </Button>
                </DockPanel>
            </Border>

            <!-- Main Content -->
            <DockPanel Grid.Row="1" Margin="20,10,20,20">
                <!-- Content -->
                <StackPanel DockPanel.Dock="Top" Margin="0,0,0,15">
                    <TextBlock x:Name="StatusText" Text="Ready to record"
                               Style="{StaticResource NeumorphicTextBlockSecondary}"
                               Margin="0,0,0,20"/>

                    <!-- Recording Info -->
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Recording Area:"
                                   Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                        <TextBlock Grid.Column="1" x:Name="AreaText" Text="Not selected"
                                   Style="{StaticResource NeumorphicTextBlock}"/>
                    </Grid>

                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Frame Rate:"
                                   Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                            <Slider x:Name="FrameRateSlider" Width="200" Minimum="1" Maximum="30" Value="10"
                                    Style="{StaticResource NeumorphicSlider}"
                                    VerticalAlignment="Center" Margin="0,0,10,0" ValueChanged="FrameRateSlider_ValueChanged"/>
                            <TextBlock x:Name="FrameRateLabel" Text="10 FPS" MinWidth="60"
                                       Style="{StaticResource NeumorphicTextBlock}"/>
                        </StackPanel>
                    </Grid>

                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Format:"
                                   Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                        <ComboBox Grid.Column="1" x:Name="FormatComboBox" SelectedIndex="0"
                                 Style="{StaticResource NeumorphicComboBox}">
                            <ComboBoxItem Content="GIF" Style="{StaticResource NeumorphicComboBoxItem}"/>
                            <ComboBoxItem Content="MP4" Style="{StaticResource NeumorphicComboBoxItem}"/>
                        </ComboBox>
                    </Grid>

                    <!-- Recording Time -->
                    <Grid Margin="0,0,0,15" Visibility="Collapsed" x:Name="RecordingInfoGrid">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Recording Time:"
                                   Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                        <TextBlock Grid.Column="1" x:Name="TimeText" Text="00:00"
                                   Style="{StaticResource NeumorphicTextBlock}"
                                   FontSize="18" FontWeight="Bold"/>
                    </Grid>

                    <!-- Frames Count -->
                    <Grid Margin="0,0,0,15" Visibility="Collapsed" x:Name="FramesInfoGrid">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Frames Captured:"
                                   Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                        <TextBlock Grid.Column="1" x:Name="FramesText" Text="0"
                                   Style="{StaticResource NeumorphicTextBlock}" FontSize="14"/>
                    </Grid>
                </StackPanel>

                <!-- Buttons -->
                <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                    <Button x:Name="StartButton" Content="Start Recording" Click="StartButton_Click"
                            Style="{StaticResource NeumorphicDepressedButton}" Width="150"/>
                    <Button x:Name="StopButton" Content="Stop Recording" Click="StopButton_Click"
                            Style="{StaticResource NeumorphicRaisedButton}" Width="150" IsEnabled="False" Margin="10,0,0,0"/>
                    <Button x:Name="CancelButton" Content="Cancel" Click="CancelButton_Click"
                            Style="{StaticResource NeumorphicRaisedButton}" Width="100" Margin="10,0,0,0"/>
                </StackPanel>
            </DockPanel>
        </Grid>
    </Border>
</Window>
