<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Neumorphic Colors -->
    <Color x:Key="NeumorphicBase">#F0F0F0</Color>          <!-- Jasne tło główne -->
    <Color x:Key="NeumorphicLightShadow">#FFFFFF</Color>   <!-- Jasny cień (góra/lewo) -->
    <Color x:Key="NeumorphicDarkShadow">#BEBEBE</Color>    <!-- Ciemny cień (dół/prawo) -->
    <Color x:Key="NeumorphicText">#212121</Color>          <!-- Tekst główny -->
    <Color x:Key="NeumorphicTextSecondary">#666666</Color> <!-- Tekst drugorzędny -->
    <Color x:Key="NeumorphicAccent">#E8E8E8</Color>        <!-- Subtelny akcent (hover) -->
    <Color x:Key="NeumorphicPressed">#DDDDDD</Color>       <!-- Wciśnięty element -->

    <!-- Neumorphic Brushes -->
    <SolidColorBrush x:Key="NeumorphicBaseBrush" Color="{StaticResource NeumorphicBase}"/>
    <SolidColorBrush x:Key="NeumorphicLightShadowBrush" Color="{StaticResource NeumorphicLightShadow}"/>
    <SolidColorBrush x:Key="NeumorphicDarkShadowBrush" Color="{StaticResource NeumorphicDarkShadow}"/>
    <SolidColorBrush x:Key="NeumorphicTextBrush" Color="{StaticResource NeumorphicText}"/>
    <SolidColorBrush x:Key="NeumorphicTextSecondaryBrush" Color="{StaticResource NeumorphicTextSecondary}"/>
    <SolidColorBrush x:Key="NeumorphicAccentBrush" Color="{StaticResource NeumorphicAccent}"/>
    <SolidColorBrush x:Key="NeumorphicPressedBrush" Color="{StaticResource NeumorphicPressed}"/>

    <!-- Reusable shadow effects (swap whole Effect in triggers) -->
    <!-- Soft shadow dla paneli głównych -->
    <DropShadowEffect x:Key="PanelEffect" Color="Black" Direction="135" ShadowDepth="8" BlurRadius="20" Opacity="0.06"/>

    <!-- Shadow effects dla przycisków -->
    <DropShadowEffect x:Key="ButtonEffect_Default" Color="Black" Direction="135" ShadowDepth="4" BlurRadius="10" Opacity="0.1"/>
    <DropShadowEffect x:Key="ButtonEffect_Hover" Color="Black" Direction="135" ShadowDepth="6" BlurRadius="14" Opacity="0.12"/>
    <DropShadowEffect x:Key="ButtonEffect_Pressed" Color="Black" Direction="135" ShadowDepth="2" BlurRadius="6" Opacity="0.15"/>

    <!-- Dodatkowe efekty dla wklęsłych elementów -->
    <DropShadowEffect x:Key="InsetEffect_Light" Color="White" Direction="315" ShadowDepth="2" BlurRadius="6" Opacity="0.6"/>
    <DropShadowEffect x:Key="InsetEffect_Dark" Color="{StaticResource NeumorphicDarkShadow}" Direction="135" ShadowDepth="2" BlurRadius="6" Opacity="0.2"/>

    <!-- Neumorphic Raised Border (Wypukły) -->
    <Style x:Key="NeumorphicRaisedBorder" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="CornerRadius" Value="12"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="8"/>
        <Setter Property="Effect" Value="{StaticResource PanelEffect}"/>
    </Style>

    <!-- Neumorphic Depressed Border (Wklęsły) -->
    <Style x:Key="NeumorphicDepressedBorder" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="CornerRadius" Value="12"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="8"/>
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect Color="{StaticResource NeumorphicDarkShadow}" Direction="315" ShadowDepth="3" BlurRadius="6" Opacity="0.5"/>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Neumorphic Raised Button (Wypukły przycisk) -->
    <Style x:Key="NeumorphicRaisedButton" TargetType="Button">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="12"/>
        <Setter Property="Margin" Value="4"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="mainBorder"
                            Background="{TemplateBinding Background}"
                            CornerRadius="10"
                            BorderThickness="0"
                            BorderBrush="{StaticResource NeumorphicBaseBrush}"
                            Effect="{StaticResource ButtonEffect_Default}">
                        <Border BorderBrush="#FFFFFF" 
                                BorderThickness="1,1,0,0" 
                                CornerRadius="10"
                                Opacity="0.6">
                            <Border BorderBrush="{StaticResource NeumorphicDarkShadowBrush}" 
                                    BorderThickness="0,0,1,1" 
                                    CornerRadius="10"
                                    Opacity="0.3">
                                <Grid>
                                    <ContentPresenter HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"
                                                      Margin="{TemplateBinding Padding}"/>
                                </Grid>
                            </Border>
                        </Border>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="mainBorder" Property="Background" Value="{StaticResource NeumorphicAccentBrush}"/>
                            <Setter TargetName="mainBorder" Property="Effect" Value="{StaticResource ButtonEffect_Hover}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="mainBorder" Property="Background" Value="{StaticResource NeumorphicPressedBrush}"/>
                            <Setter TargetName="mainBorder" Property="Effect" Value="{StaticResource ButtonEffect_Pressed}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Neumorphic Depressed Button (Wklęsły przycisk - aktywny) -->
    <Style x:Key="NeumorphicDepressedButton" TargetType="Button" BasedOn="{StaticResource NeumorphicRaisedButton}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="10"
                            BorderThickness="0"
                            Effect="{StaticResource ButtonEffect_Pressed}">
                        <Grid>
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="{TemplateBinding Padding}"/>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource NeumorphicAccentBrush}"/>
                            <Setter TargetName="border" Property="Effect" Value="{StaticResource ButtonEffect_Hover}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Neumorphic Circular Button (Okrągły przycisk) -->
    <Style x:Key="NeumorphicCircularButton" TargetType="Button">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Width" Value="50"/>
        <Setter Property="Height" Value="50"/>
        <Setter Property="Padding" Value="8"/>
        <Setter Property="Margin" Value="5"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="mainBorder"
                            Background="{TemplateBinding Background}"
                            CornerRadius="25"
                            BorderThickness="0"
                            Effect="{StaticResource ButtonEffect_Default}">
                        <Border BorderBrush="#FFFFFF" 
                                BorderThickness="1,1,0,0" 
                                CornerRadius="25"
                                Opacity="0.6">
                            <Border BorderBrush="{StaticResource NeumorphicDarkShadowBrush}" 
                                    BorderThickness="0,0,1,1" 
                                    CornerRadius="25"
                                    Opacity="0.3">
                                <Grid>
                                    <ContentPresenter HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"/>
                                </Grid>
                            </Border>
                        </Border>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="mainBorder" Property="Background" Value="{StaticResource NeumorphicAccentBrush}"/>
                            <Setter TargetName="mainBorder" Property="Effect" Value="{StaticResource ButtonEffect_Hover}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="mainBorder" Property="Background" Value="{StaticResource NeumorphicPressedBrush}"/>
                            <Setter TargetName="mainBorder" Property="Effect" Value="{StaticResource ButtonEffect_Pressed}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Neumorphic Panel (simplified - Border does not support ControlTemplate) -->
    <Style x:Key="NeumorphicPanel" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="CornerRadius" Value="15"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="12"/>
        <Setter Property="Effect" Value="{StaticResource PanelEffect}"/>
        <Setter Property="BorderBrush" Value="#FFFFFF"/>
    </Style>

    <!-- Neumorphic TextBox -->
    <Style x:Key="NeumorphicTextBox" TargetType="TextBox">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="12"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TextBox">
                    <Border x:Name="outerBorder"
                            Background="{StaticResource NeumorphicBaseBrush}"
                            CornerRadius="10"
                            BorderThickness="0">
                        <Border.Effect>
                            <DropShadowEffect Color="White"
                                             Direction="315"
                                             ShadowDepth="2"
                                             BlurRadius="6"
                                             Opacity="0.6"/>
                        </Border.Effect>
                        <Border x:Name="innerBorder"
                                Background="{TemplateBinding Background}"
                                CornerRadius="10"
                                BorderThickness="0"
                                Margin="1">
                            <Border.Effect>
                                <DropShadowEffect Color="{StaticResource NeumorphicDarkShadow}"
                                                 Direction="135"
                                                 ShadowDepth="2"
                                                 BlurRadius="6"
                                                 Opacity="0.2"/>
                            </Border.Effect>
                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
                        </Border>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="innerBorder" Property="Background" Value="{StaticResource NeumorphicAccentBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Neumorphic Slider -->
    <Style x:Key="NeumorphicSlider" TargetType="Slider">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="Height" Value="24"/>
        <Setter Property="Margin" Value="8,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Slider">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Track - wklęsły rowek -->
                        <Border Grid.Row="0"
                                Height="8"
                                VerticalAlignment="Center"
                                Background="{StaticResource NeumorphicBaseBrush}"
                                CornerRadius="4"
                                BorderThickness="0">
                            <!-- Wklęsły efekt -->
                            <Border BorderBrush="{StaticResource NeumorphicDarkShadowBrush}"
                                    BorderThickness="1,1,0,0"
                                    CornerRadius="4">
                                <Border BorderBrush="#FFFFFF"
                                        BorderThickness="0,0,1,1"
                                        CornerRadius="4"
                                        Background="{StaticResource NeumorphicAccentBrush}">
                                    <Track x:Name="PART_Track" Grid.Row="0">
                                        <Track.DecreaseRepeatButton>
                                            <RepeatButton Command="Slider.DecreaseLarge" Style="{x:Null}" Opacity="0"/>
                                        </Track.DecreaseRepeatButton>
                                        <Track.IncreaseRepeatButton>
                                            <RepeatButton Command="Slider.IncreaseLarge" Style="{x:Null}" Opacity="0"/>
                                        </Track.IncreaseRepeatButton>
                                        <Track.Thumb>
                                            <!-- Thumb - wypukłe kółko -->
                                            <Thumb Width="20" Height="20">
                                                <Thumb.Template>
                                                    <ControlTemplate TargetType="Thumb">
                                                        <Border Background="{StaticResource NeumorphicBaseBrush}"
                                                                CornerRadius="10"
                                                                BorderThickness="0">
                                                            <!-- Wypukły efekt -->
                                                            <Border BorderBrush="#FFFFFF"
                                                                    BorderThickness="1.5,1.5,0,0"
                                                                    CornerRadius="10">
                                                                <Border BorderBrush="{StaticResource NeumorphicDarkShadowBrush}"
                                                                        BorderThickness="0,0,1.5,1.5"
                                                                        CornerRadius="10"/>
                                                            </Border>
                                                        </Border>
                                                    </ControlTemplate>
                                                </Thumb.Template>
                                            </Thumb>
                                        </Track.Thumb>
                                    </Track>
                                </Border>
                            </Border>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Neumorphic ScrollBar -->
    <Style x:Key="NeumorphicScrollBar" TargetType="ScrollBar">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="Width" Value="12"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ScrollBar">
                    <Grid>
                        <!-- Track - wklęsły -->
                        <Border Background="{StaticResource NeumorphicBaseBrush}"
                                CornerRadius="6"
                                BorderThickness="0"
                                Margin="2">
                            <Border BorderBrush="{StaticResource NeumorphicDarkShadowBrush}"
                                    BorderThickness="1,1,0,0"
                                    CornerRadius="6">
                                <Border BorderBrush="#FFFFFF"
                                        BorderThickness="0,0,1,1"
                                        CornerRadius="6"
                                        Background="{StaticResource NeumorphicAccentBrush}">
                                    <Track x:Name="PART_Track" IsDirectionReversed="True">
                                        <Track.DecreaseRepeatButton>
                                            <RepeatButton Command="ScrollBar.LineUpCommand" Style="{x:Null}" Opacity="0"/>
                                        </Track.DecreaseRepeatButton>
                                        <Track.IncreaseRepeatButton>
                                            <RepeatButton Command="ScrollBar.LineDownCommand" Style="{x:Null}" Opacity="0"/>
                                        </Track.IncreaseRepeatButton>
                                        <Track.Thumb>
                                            <!-- Thumb - wypukły -->
                                            <Thumb>
                                                <Thumb.Template>
                                                    <ControlTemplate TargetType="Thumb">
                                                        <Border Background="{StaticResource NeumorphicBaseBrush}"
                                                                CornerRadius="5"
                                                                MinHeight="30"
                                                                Margin="1"
                                                                BorderThickness="0">
                                                            <Border BorderBrush="#FFFFFF"
                                                                    BorderThickness="1,1,0,0"
                                                                    CornerRadius="5">
                                                                <Border BorderBrush="{StaticResource NeumorphicDarkShadowBrush}"
                                                                        BorderThickness="0,0,1,1"
                                                                        CornerRadius="5"/>
                                                            </Border>
                                                        </Border>
                                                    </ControlTemplate>
                                                </Thumb.Template>
                                            </Thumb>
                                        </Track.Thumb>
                                    </Track>
                                </Border>
                            </Border>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Neumorphic TextBlock -->
    <Style x:Key="NeumorphicTextBlock" TargetType="TextBlock">
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="FontWeight" Value="Light"/>
    </Style>

    <!-- Neumorphic TextBlock Secondary -->
    <Style x:Key="NeumorphicTextBlockSecondary" TargetType="TextBlock">
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextSecondaryBrush}"/>
        <Setter Property="FontSize" Value="12"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="FontWeight" Value="Light"/>
    </Style>

    <!-- Neumorphic Heading (H1) -->
    <Style x:Key="NeumorphicHeading" TargetType="TextBlock">
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="FontSize" Value="22"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="FontWeight" Value="Regular"/>
    </Style>

    <!-- Neumorphic Heading Large (H2) -->
    <Style x:Key="NeumorphicHeadingLarge" TargetType="TextBlock">
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="FontSize" Value="18"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="FontWeight" Value="Regular"/>
    </Style>

    <!-- Neumorphic Heading Small (H3) -->
    <Style x:Key="NeumorphicHeadingSmall" TargetType="TextBlock">
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="FontSize" Value="16"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="FontWeight" Value="Regular"/>
    </Style>

    <!-- Neumorphic CheckBox -->
    <Style x:Key="NeumorphicCheckBox" TargetType="CheckBox">
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Padding" Value="8,0,0,0"/>
        <Setter Property="Margin" Value="0,5"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="CheckBox">
                    <StackPanel Orientation="Horizontal">
                        <!-- Checkbox box -->
                        <Border x:Name="CheckBoxBorder"
                                Width="20" Height="20"
                                Background="{StaticResource NeumorphicBaseBrush}"
                                CornerRadius="6"
                                BorderThickness="0"
                                Margin="0,0,8,0"
                                VerticalAlignment="Center">
                            <!-- Wklęsły efekt dla unchecked -->
                            <Border BorderBrush="{StaticResource NeumorphicDarkShadowBrush}"
                                    BorderThickness="1.5,1.5,0,0"
                                    CornerRadius="6">
                                <Border BorderBrush="#FFFFFF"
                                        BorderThickness="0,0,1,1"
                                        CornerRadius="6"
                                        Background="{StaticResource NeumorphicAccentBrush}">
                                    <!-- Checkmark -->
                                    <TextBlock x:Name="CheckMark"
                                               Text="✓"
                                               FontSize="14"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource NeumorphicTextBrush}"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Visibility="Collapsed"/>
                                </Border>
                            </Border>
                        </Border>
                        <!-- Content -->
                        <ContentPresenter VerticalAlignment="Center"
                                         Margin="{TemplateBinding Padding}"/>
                    </StackPanel>
                    <ControlTemplate.Triggers>
                        <!-- Checked state - wypukły z checkmark -->
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="CheckBoxBorder" Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
                        </Trigger>
                        <!-- Hover -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="CheckBoxBorder" Property="Background" Value="{StaticResource NeumorphicAccentBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Neumorphic ComboBox -->
    <Style x:Key="NeumorphicComboBox" TargetType="ComboBox">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="12,8"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBox">
                    <Grid>
                        <!-- Main ComboBox body - wklęsły -->
                        <Border x:Name="MainBorder"
                                Background="{StaticResource NeumorphicBaseBrush}"
                                CornerRadius="10"
                                BorderThickness="0">
                            <!-- Wklęsły efekt -->
                            <Border BorderBrush="{StaticResource NeumorphicDarkShadowBrush}"
                                    BorderThickness="1.5,1.5,0,0"
                                    CornerRadius="10">
                                <Border BorderBrush="#FFFFFF"
                                        BorderThickness="0,0,1,1"
                                        CornerRadius="10"
                                        Background="{StaticResource NeumorphicAccentBrush}">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- Content -->
                                        <ContentPresenter Grid.Column="0"
                                                         Content="{TemplateBinding SelectionBoxItem}"
                                                         ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                         Margin="{TemplateBinding Padding}"
                                                         VerticalAlignment="Center"
                                                         HorizontalAlignment="Left"/>

                                        <!-- Dropdown arrow - wypukły -->
                                        <Border Grid.Column="1"
                                                Width="30" Height="30"
                                                Background="{StaticResource NeumorphicBaseBrush}"
                                                CornerRadius="8"
                                                Margin="5,0,5,0"
                                                BorderThickness="0">
                                            <Border BorderBrush="#FFFFFF"
                                                    BorderThickness="1,1,0,0"
                                                    CornerRadius="8">
                                                <Border BorderBrush="{StaticResource NeumorphicDarkShadowBrush}"
                                                        BorderThickness="0,0,1,1"
                                                        CornerRadius="8">
                                                    <TextBlock Text="▼"
                                                               FontSize="10"
                                                               Foreground="{StaticResource NeumorphicTextSecondaryBrush}"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"/>
                                                </Border>
                                            </Border>
                                        </Border>
                                    </Grid>
                                </Border>
                            </Border>
                        </Border>

                        <!-- Popup -->
                        <Popup x:Name="PART_Popup"
                               AllowsTransparency="True"
                               IsOpen="{TemplateBinding IsDropDownOpen}"
                               Placement="Bottom"
                               PopupAnimation="Slide">
                            <Border Background="{StaticResource NeumorphicBaseBrush}"
                                    CornerRadius="10"
                                    BorderThickness="0"
                                    Margin="5"
                                    Effect="{StaticResource PanelEffect}">
                                <ScrollViewer MaxHeight="200" VerticalScrollBarVisibility="Auto">
                                    <ItemsPresenter/>
                                </ScrollViewer>
                            </Border>
                        </Popup>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="MainBorder" Property="Background" Value="{StaticResource NeumorphicAccentBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Neumorphic ComboBoxItem -->
    <Style x:Key="NeumorphicComboBoxItem" TargetType="ComboBoxItem">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="Padding" Value="10,8"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBoxItem">
                    <Border x:Name="ItemBorder"
                            Background="{TemplateBinding Background}"
                            Padding="{TemplateBinding Padding}"
                            Margin="2">
                        <ContentPresenter/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ItemBorder" Property="Background" Value="{StaticResource NeumorphicAccentBrush}"/>
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="ItemBorder" Property="Background" Value="{StaticResource NeumorphicPressedBrush}"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Neumorphic Depressed Border (Wklęsły panel) -->
    <Style x:Key="NeumorphicDepressedBorder" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource NeumorphicAccentBrush}"/>
        <Setter Property="CornerRadius" Value="12"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="12"/>
    </Style>

    <!-- Neumorphic Flat Panel (bez cieni - do grupowania) -->
    <Style x:Key="NeumorphicFlatPanel" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource NeumorphicBaseBrush}"/>
        <Setter Property="CornerRadius" Value="0"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="0"/>
    </Style>

    <!-- Neumorphic RadioButton -->
    <Style x:Key="NeumorphicRadioButton" TargetType="RadioButton">
        <Setter Property="Foreground" Value="{StaticResource NeumorphicTextBrush}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Padding" Value="8,6"/>
        <Setter Property="Margin" Value="0,5"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="RadioButton">
                    <Border x:Name="RadioBorder"
                            Background="{StaticResource NeumorphicBaseBrush}"
                            CornerRadius="10"
                            Padding="{TemplateBinding Padding}"
                            BorderThickness="0">
                        <!-- Raised effect for unchecked -->
                        <Border x:Name="OuterBorder"
                                BorderBrush="#FFFFFF"
                                BorderThickness="1.5,1.5,0,0"
                                CornerRadius="10">
                            <Border BorderBrush="{StaticResource NeumorphicDarkShadowBrush}"
                                    BorderThickness="0,0,1.5,1.5"
                                    CornerRadius="10">
                                <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center"/>
                            </Border>
                        </Border>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <!-- Depressed effect for checked -->
                            <Setter TargetName="RadioBorder" Property="Background" Value="{StaticResource NeumorphicPressedBrush}"/>
                            <Setter TargetName="OuterBorder" Property="BorderBrush" Value="{StaticResource NeumorphicDarkShadowBrush}"/>
                            <Setter TargetName="OuterBorder" Property="BorderThickness" Value="1.5,1.5,0,0"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="RadioBorder" Property="Background" Value="{StaticResource NeumorphicAccentBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>

