<Window x:Class="PrettyScreenSHOT.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding Title}" Height="650" Width="720" WindowStartupLocation="CenterScreen"
        Background="Transparent" Foreground="{StaticResource NeumorphicTextBrush}"
        ShowInTaskbar="False" WindowStyle="None" AllowsTransparency="True">
    
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PrettyScreenSHOT;component/NeumorphicStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    
    <!-- Neumorphic window chrome -->
    <Border Style="{StaticResource NeumorphicPanel}" CornerRadius="18" Margin="15" Padding="0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="48"/> <!-- Title bar -->
                <RowDefinition Height="*"/>  <!-- Main content -->
            </Grid.RowDefinitions>

            <!-- Custom Title Bar -->
            <Border Grid.Row="0" Background="Transparent" Padding="15,10" CornerRadius="18,18,0,0"
                    MouseLeftButtonDown="OnTitleBarMouseDown">
                <DockPanel>
                    <TextBlock x:Name="TitleText" Text="{Binding Title}" FontSize="20"
                               Style="{StaticResource NeumorphicHeading}"
                               VerticalAlignment="Center" DockPanel.Dock="Left"/>

                    <Button Click="CancelButton_Click" Style="{StaticResource NeumorphicCircularButton}"
                            Width="32" Height="32" DockPanel.Dock="Right"
                            HorizontalAlignment="Right" ToolTip="Zamknij">
                        <TextBlock Text="âœ•" FontSize="16" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                </DockPanel>
            </Border>

            <!-- Main Content -->
            <DockPanel Grid.Row="1" Margin="20,10,20,20">
                <!-- Content -->
                <ScrollViewer DockPanel.Dock="Top" VerticalScrollBarVisibility="Auto" Margin="0,0,0,15">
                    <StackPanel>
                        <!-- Language -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" x:Name="LanguageLabel" Text="Language:"
                                       Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                            <ComboBox Grid.Column="1" x:Name="LanguageComboBox"
                                      Style="{StaticResource NeumorphicComboBox}"/>
                        </Grid>

                        <!-- Save Path -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" x:Name="SavePathLabel" Text="Save Path:"
                                       Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                            <TextBox Grid.Column="1" x:Name="SavePathTextBox" Margin="0,0,10,0"
                                     Style="{StaticResource NeumorphicTextBox}"/>
                            <Button Grid.Column="2" x:Name="BrowseButton" Content="Browse..." Click="BrowseButton_Click"
                                    Style="{StaticResource NeumorphicRaisedButton}" Width="100"/>
                        </Grid>

                        <!-- Hotkey -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" x:Name="HotkeyLabel" Text="Hotkey:"
                                       Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                            <ComboBox Grid.Column="1" x:Name="HotkeyComboBox"
                                      Style="{StaticResource NeumorphicComboBox}"/>
                        </Grid>

                        <!-- Image Format -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" x:Name="ImageFormatLabel" Text="Image Format:"
                                       Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                            <ComboBox Grid.Column="1" x:Name="ImageFormatComboBox"
                                      Style="{StaticResource NeumorphicComboBox}"/>
                        </Grid>

                        <!-- Image Quality -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" x:Name="ImageQualityLabel" Text="Image Quality:"
                                       Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                            <Slider Grid.Column="1" x:Name="QualitySlider" Minimum="10" Maximum="100" Value="90"
                                    Margin="0,0,10,0" VerticalAlignment="Center"
                                    Style="{StaticResource NeumorphicSlider}"/>
                            <TextBlock Grid.Column="2" x:Name="QualityLabel" Text="90%" MinWidth="50"
                                       Style="{StaticResource NeumorphicTextBlock}"/>
                        </Grid>

                        <!-- Options -->
                        <StackPanel Margin="0,10,0,15">
                            <CheckBox x:Name="AutoSaveCheckBox" Content="Auto Save"
                                      Style="{StaticResource NeumorphicCheckBox}" Margin="0,0,0,10"/>
                            <CheckBox x:Name="CopyToClipboardCheckBox" Content="Copy to Clipboard"
                                      Style="{StaticResource NeumorphicCheckBox}" Margin="0,0,0,10"/>
                            <CheckBox x:Name="ShowNotificationsCheckBox" Content="Show Notifications"
                                      Style="{StaticResource NeumorphicCheckBox}" Margin="0,0,0,10"/>
                            <CheckBox x:Name="AutoUploadCheckBox" Content="Auto Upload"
                                      Style="{StaticResource NeumorphicCheckBox}" Margin="0,0,0,10"/>
                        </StackPanel>

                        <!-- Theme -->
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" x:Name="ThemeLabel" Text="Theme:"
                                       Style="{StaticResource NeumorphicTextBlock}" FontWeight="Regular"/>
                            <ComboBox Grid.Column="1" x:Name="ThemeComboBox"
                                      Style="{StaticResource NeumorphicComboBox}"/>
                        </Grid>
                    </StackPanel>
                </ScrollViewer>

                <!-- Buttons -->
                <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                    <Button x:Name="ResetButton" Content="Reset to Defaults" Click="ResetButton_Click"
                            Style="{StaticResource NeumorphicRaisedButton}" Margin="0,0,10,0"/>
                    <Button x:Name="CancelButton2" Content="Cancel" Click="CancelButton_Click"
                            Style="{StaticResource NeumorphicRaisedButton}" Margin="0,0,10,0"/>
                    <Button x:Name="SaveButton" Content="Save" Click="SaveButton_Click"
                            Style="{StaticResource NeumorphicDepressedButton}"/>
                </StackPanel>
            </DockPanel>
        </Grid>
    </Border>
</Window>

